(function(t){function e(e){for(var o,s,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/thelastone/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},1:function(t,e){},"24a9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCgYCOA4LIBLGAAACCUlEQVRIx9WTv2tTURzFz33REGiVaAltoWBpHFwaUYx0NUItTrHQv8HJoUJ16yB0yyDt0ATKc2lx6Q8oTqJk0w5WwUxKQOjQxQYa0SbGho+Dj9uX+l5+gItneuf7Ped8773vXqNAcF7TGldK45JK+qiSNs03dQsylDiNEpnuzH3kqBOEOjn6OgcUWkxNmi280Mme5diKi8wwyigzFG3tmGw7e4KylS4RkRhiSCLCkq2XSYQHzFvZLjGGWaFKlRWGibFre/PhAVtWNCexYNmCxJxlW+EBJxuYJMqeZXtEmTzZhN/j+OxJjVkSNw3tW7ZvGopbNkYyMECDMvb7piTXMter/IHRYPAGolTtMiukcMiywQZZHFJUbK9KNOwMdnxXZrmls+zr7IQfoutJDnmEI3GODHcYkXB4zKHXdcMDJqgBB9yQSPOaI+86v+KWRJoDoMaEwsEiMCvxkB8tb+AX9yVmgUW1AwOsYrh6yg7QYBrDKgPqDF4EPue3QVonwH5BEn+XVelquqeeokjNzq5RZCpYadqE9Ou6Lksq67353vXsXmFI9aSvm89c1Ih/ob3hg8QDf8HpaX4A/mHAMz2X9E55fVJTBa1LeqO8vuhIeW2HJtjNXCINPJVY5ycxbgNPJF7yVeJe2BmcsUk5nZWUYU3XFJGruKS7JHVF/awp0XkF/8tfcCRF/IXfIsCqxrOCc2kAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTAtMDZUMDI6NTY6MTQrMDI6MDB7Na4lAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTEwLTA2VDAyOjU2OjE0KzAyOjAwCmgWmQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},"360f":function(t,e,n){t.exports=n.p+"img/3.33f402f9.jpg"},"368c":function(t,e,n){t.exports=n.p+"img/4.2c79f1a9.jpg"},"47ec":function(t,e,n){"use strict";var o=n("887f"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("my-header"),n("router-view"),n("my-footer")],1)},r=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[o("div",{staticClass:"container header_container"},[o("div",{staticClass:"logo"},[o("router-link",{attrs:{to:"/"}},[t._v("PLAYER")])],1),t.isAuth?t._e():o("div",{staticClass:"login"},[o("router-link",{attrs:{to:"/signin"}},[o("img",{attrs:{src:n("24a9"),alt:"Log in"}})])],1),t.isAuth?o("div",[o("ul",[o("li",[o("span",{on:{click:t.logoutUser}},[t._v("登出")])]),o("li",[o("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")])],1)])]):t._e()])])},i=[],l={computed:{isAuth:function(){return this.$store.getters["admin/isAuth"]}},methods:{logoutUser:function(t){this.$store.commit("admin/logoutUser")}}},c=l,d=n("2877"),u=Object(d["a"])(c,s,i,!1,null,null,null),m=u.exports,f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("div",{staticClass:"container"},[n("div",{staticClass:"logo"},[t._v("\n            PLAYER\n        ")])])])}],v={},h=v,g=Object(d["a"])(h,f,p,!1,null,null,null),_=g.exports,b={components:{myHeader:m,myFooter:_},created:function(){this.$store.dispatch("admin/refreshToken")}},A=b,y=(n("034f"),Object(d["a"])(A,a,r,!1,null,null,null)),P=y.exports,C=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("my-carousel"),n("my-content")],1)},k=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("carousel",{attrs:{"per-page":1,"mouse-drag":!0,autoplay:!0}},t._l(t.slides,(function(e,o){return n("slide",{key:o},[n("div",{staticClass:"slider_bck",style:{background:"url("+e.bg+")"}},[n("div",{staticClass:"gradient"},[n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("app-btn",{attrs:{type:"link",linkTo:"#",addClass:["helo","asd"],newStyle:{color:"yellow"}}},[t._v("\n                             See Review\n                             ")]),n("div",{staticClass:"item"},[t._v("\n                                 "+t._s(e.title)+"\n                             ")])],1)])])])])})),1)],1)},O=[],j=n("0a63"),x=n("78b2"),S=n.n(x),U=n("d811"),E=n.n(U),I=n("360f"),D=n.n(I),T=n("368c"),M=n.n(T),F={data:function(){return{slides:[{title:"AD01",bg:S.a},{title:"AD02",bg:E.a},{title:"AD03",bg:D.a},{title:"AD04",bg:M.a}]}},methods:{action:function(){alert("hey!")}},components:{Carousel:j["Carousel"],Slide:j["Slide"]}},q=F,B=Object(d["a"])(q,w,O,!1,null,null,null),J=B.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-container"},[t._l(t.posts,(function(e,o){return n("md-card",{key:o},[n("md-card-media",{attrs:{"md-ratio":"4:3"}},[n("img",{attrs:{src:e.img}})]),n("md-card-header",[n("h2",{staticClass:"md-title"},[t._v(t._s(e.title))]),n("div",{staticClass:"md-subhead"},[n("div",[t._v(t._s(e.desc))])])]),n("md-card-actions",[n("app-btn",{attrs:{type:"link",linkTo:"/post/"+e.id,addClass:["small_link"]}},[t._v("\n                查看更多\n            ")])],1)],1)})),n("div",{staticClass:"load_more"},[n("app-btn",{attrs:{type:"btn",addClass:["small_link"],action:t.loadMore}},[t._v("\n                    載入更多\n         ")])],1)],2)},L=[],G={computed:{posts:function(){return this.$store.getters["posts/getAllPostsGetters"]}},methods:{loadMore:function(){this.$store.dispatch("posts/getAllPosts",{limit:this.posts.length+3})}},created:function(){this.$store.dispatch("posts/getAllPosts",{limit:3})}},R=G,X=Object(d["a"])(R,N,L,!1,null,null,null),Y=X.exports,Q={components:{myCarousel:J,myContent:Y}},H=Q,K=Object(d["a"])(H,$,k,!1,null,null,null),W=K.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"signin_container"},[n("h1",[t._v("會員登入")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"input_field",class:{invalid:t.$v.formdata.email.$error}},[n("label",[t._v("帳號信箱")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formdata.email,expression:"formdata.email",modifiers:{trim:!0}}],attrs:{type:"email"},domProps:{value:t.formdata.email},on:{blur:[function(e){return t.$v.formdata.email.$touch()},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.formdata,"email",e.target.value.trim())}}}),t.$v.formdata.email.$error?n("div",[t.$v.formdata.email.required?t._e():n("p",{staticClass:"error_label"},[t._v("\n                        Email 為必填欄位\n                    ")]),t.$v.formdata.email.email?t._e():n("p",{staticClass:"error_label"},[t._v("\n                        請檢查 email 格式是否正確\n                    ")])]):t._e()]),n("div",{staticClass:"input_field",class:{invalid:t.$v.formdata.password.$error}},[n("label",[t._v("密碼")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formdata.password,expression:"formdata.password",modifiers:{trim:!0}}],attrs:{type:"password"},domProps:{value:t.formdata.password},on:{blur:[function(e){return t.$v.formdata.password.$touch()},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.formdata,"password",e.target.value.trim())}}}),t.$v.formdata.password.$error?n("div",[t.$v.formdata.password.required?t._e():n("p",{staticClass:"error_label"},[t._v("\n                        請輸入密碼\n                    ")]),t.$v.formdata.password.minLength?t._e():n("p",{staticClass:"error_label"},[t._v("\n                        請檢查密碼長度是否為 8 個字元\n                    ")])]):t._e()]),n("button",{attrs:{type:"submit"}},[t._v("Sign in")]),t.error?n("p",{staticClass:"error_label"},[t._v("\n                請檢查上述欄位是否正確\n            ")]):t._e(),t.authFailed?n("p",{staticClass:"error_label"},[t._v("\n                請檢查上述欄位是否正確\n            ")]):t._e()])])])},z=[],Z=n("b5ae"),tt={data:function(){return{error:!1,formdata:{email:"",password:""}}},computed:{authFailed:function(){return this.$store.state.admin.authFailed}},destroyed:function(){this.$store.commit("admin/authFailed","reset")},validations:{formdata:{email:{required:Z["required"],email:Z["email"]},password:{required:Z["required"],minLength:Object(Z["minLength"])(8)}}},methods:{onSubmit:function(){var t=this;this.$v.$invalid?(this.error=!0,setTimeout((function(){t.error=!1}),2e3)):this.$store.dispatch("admin/signIn",this.formdata)}}},et=tt,nt=(n("8612"),Object(d["a"])(et,V,z,!1,null,"e61208b4",null)),ot=nt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container dashboard_container"},[n("div",{staticClass:"admin_nav"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/dashboard/add_posts"}},[t._v("新增貼文")])],1),n("li",[n("router-link",{attrs:{to:"/dashboard/posts_list"}},[t._v("文章列表")])],1),n("li",[n("router-link",{attrs:{to:"/dashboard"}},[t._v("返回")])],1)])]),n("router-view")],1)},rt=[],st={},it=Object(d["a"])(st,at,rt,!1,null,null,null),lt=it.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard_welcome"},[t._v("\n    WELLCOME DB\n")])},dt=[],ut={},mt=Object(d["a"])(ut,ct,dt,!1,null,null,null),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard_form"},[n("h1",[t._v("新增文章")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.postSubmit(e)}}},[t.imgUpload?n("div",[n("img",{attrs:{src:t.imgUpload}})]):t._e(),n("div",{staticClass:"input_field"},[n("input",{ref:"myImgInput",attrs:{type:"file"},on:{change:function(e){return t.processFile(e)}}})]),n("div",{staticClass:"input_field",class:{invalid:t.$v.formdata.title.$error}},[n("label",[t._v("標題")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formdata.title,expression:"formdata.title"}],attrs:{type:"text"},domProps:{value:t.formdata.title},on:{blur:function(e){return t.$v.formdata.title.$touch()},input:function(e){e.target.composing||t.$set(t.formdata,"title",e.target.value)}}}),t.$v.formdata.title.$error?n("p",{staticClass:"error_label"},[t._v("\n            標題為必填欄位\n            ")]):t._e()]),n("div",{staticClass:"input_field",class:{invalid:t.$v.formdata.desc.$error}},[n("label",[t._v("簡述")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formdata.desc,expression:"formdata.desc"}],attrs:{type:"text",placeholder:"簡述請小於40字"},domProps:{value:t.formdata.desc},on:{blur:function(e){return t.$v.formdata.desc.$touch()},input:function(e){e.target.composing||t.$set(t.formdata,"desc",e.target.value)}}}),t.$v.formdata.desc.$error?n("p",{staticClass:"error_label"},[t._v("\n            簡述為必填欄位\n            ")]):t._e(),t.$v.formdata.desc.maxLength?t._e():n("p",{staticClass:"error_label"},[t._v("\n            簡述請小於20字\n            ")])]),n("div",{staticClass:"input_field"},[n("wysiwyg",{model:{value:t.formdata.content,callback:function(e){t.$set(t.formdata,"content",e)},expression:"formdata.content"}})],1),n("div",{staticClass:"input_field",class:{invalid:t.$v.formdata.rating.$error}},[n("label",[t._v("評分")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.formdata.rating,expression:"formdata.rating"}],on:{blur:function(e){return t.$v.formdata.rating.$touch()},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formdata,"rating",e.target.multiple?n:n[0])}}},[n("option",[t._v("1")]),n("option",[t._v("2")]),n("option",[t._v("3")]),n("option",[t._v("4")]),n("option",[t._v("5")])]),t.$v.formdata.rating.$error?n("p",{staticClass:"error_label"},[t._v("\n                一定要評分喔！\n            ")]):t._e()]),n("button",{attrs:{type:"submit"}},[t._v("\n            發布貼文\n        ")])]),n("md-dialog",{attrs:{"md-active":t.mddialog},on:{"update:mdActive":function(e){t.mddialog=e},"update:md-active":function(e){t.mddialog=e}}},[n("md-dialog-title",[t._v("您尚未輸入文章內容，確定要發布文章嗎？")]),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogConfirm}},[t._v("確認發布")]),n("md-button",{staticClass:"md-primary",on:{click:t.dialogCancel}},[t._v("取消發布")])],1)],1),t.addpost?n("div",{staticClass:"post_succesfull"},[t._v("\n        已發布文章\n    ")]):t._e()],1)},vt=[],ht=(n("3022"),{data:function(){return{mddialog:!1,formdata:{img:"",title:"",desc:"",content:"",rating:""}}},validations:{formdata:{title:{required:Z["required"]},desc:{required:Z["required"],maxLength:Object(Z["maxLength"])(40)},rating:{required:Z["required"]}}},computed:{addpost:function(){var t=this.$store.getters["admin/addPostStatus"];return t&&(this.clearPost(),this.$store.commit("admin/clearImgUpload")),t},imgUpload:function(){var t=this.$store.getters["admin/imgUploadUrl"];return this.formdata.img=t,t}},destroyed:function(){this.$store.commit("admin/clearImgUpload")},methods:{postSubmit:function(){this.$v.$invalid?alert("請檢查內容是否正確"):""===this.formdata.content?this.mddialog=!0:this.addPost()},addPost:function(){this.$store.dispatch("admin/addPost",this.formdata)},clearPost:function(){this.$v.$reset(),this.$refs.myImgInput.value="",this.formdata={title:"",desc:"",content:"",rating:""}},dialogConfirm:function(){this.mddialog=!1,this.addPost()},dialogCancel:function(){this.mddialog=!1},processFile:function(t){var e=t.target.files[0];this.$store.dispatch("admin/imgUpload",e)}}}),gt=ht,_t=(n("c25a"),Object(d["a"])(gt,pt,vt,!1,null,"b4e2481a",null)),bt=_t.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-table",[n("md-table-row",[n("md-table-head",[t._v("遊戲名稱")]),n("md-table-head",[t._v("遊戲簡介")]),n("md-table-head",[t._v("遊戲評分")]),n("md-table-head",[t._v("動作")])],1),t._l(t.adminPosts,(function(e,o){return n("md-table-row",{key:o},[n("md-table-cell",[t._v(t._s(e.title))]),n("md-table-cell",[t._v(t._s(e.desc))]),n("md-table-cell",[t._v(t._s(e.rating))]),n("md-table-cell",[n("div",{staticClass:"post_delete",on:{click:function(n){return t.deletePost(e.id)}}},[t._v("\n             刪除")])])],1)}))],2),n("md-dialog-confirm",{attrs:{"md-active":t.confirmDelete,"md-title":"","md-content":"你確定要<strong>刪除</strong>這篇文章嗎？ (文章刪除後不可復原)","md-confirm-text":"是，我要刪除。","md-cancel-text":"否，取消刪除。"},on:{"update:mdActive":function(e){t.confirmDelete=e},"update:md-active":function(e){t.confirmDelete=e},"md-cancel":t.onCancel,"md-confirm":t.onConfirm}})],1)},yt=[],Pt={data:function(){return{confirmDelete:!1,deleteItemId:""}},computed:{adminPosts:function(){var t=this.$store.getters["admin/getAdminPostsGetters"];return t}},created:function(){this.$store.dispatch("admin/getAdminPosts")},methods:{deletePost:function(t){this.deleteItemId=t,this.confirmDelete=!0},onCancel:function(){this.deleteItemId="",this.confirmDelete=!1},onConfirm:function(){this.$store.dispatch("admin/deletePost",this.deleteItemId),this.confirmDelete=!1}}},Ct=Pt,$t=(n("47ec"),Object(d["a"])(Ct,At,yt,!1,null,null,null)),kt=$t.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container post_container"},[t.onePost?n("div",{staticClass:"top"},[n("div",{staticClass:"post_header"},[n("h1",[t._v(t._s(t.onePost.title))]),n("div",{staticClass:"post_img",style:{background:"url("+t.onePost.img+")"}}),n("div",{staticClass:"post_content"},[n("div",{domProps:{innerHTML:t._s(t.onePost.content)}})]),n("div",{staticClass:"post_rating"},[t._v("\n                評分："),n("span",[t._v(t._s(t.onePost.rating)+" / 5")])])])]):t._e()])},Ot=[],jt={computed:{onePost:function(){return this.$store.getters["posts/getPostGetters"]}},created:function(){var t=this.$route.params.id;this.$store.dispatch("posts/getPost",t)},destroyed:function(){this.$store.commit("posts/clearPost")}},xt=jt,St=Object(d["a"])(xt,wt,Ot,!1,null,null,null),Ut=St.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container not_found_container"},[t._v("\n    找不到網頁喔，請點擊下方按鈕返回首頁：\n    "),n("app-btn",{attrs:{type:"link",addClass:["small_link"],linkTo:"/"}},[t._v("\n         返回首頁\n    ")])],1)},It=[],Dt={},Tt=Dt,Mt=Object(d["a"])(Tt,Et,It,!1,null,null,null),Ft=Mt.exports,qt=n("2f62"),Bt=(n("8e6e"),n("456d"),n("ac6a"),n("bd86"));function Jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(n,!0).forEach((function(e){Object(Bt["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Lt="https://www.googleapis.com/identitytoolkit/v3/relyingparty",Gt="AIzaSyD83foBNfz-_Oe4Ua4LFSR2cbWUJ7ZPnuc",Rt={namespaced:!0,state:{token:null,refresh:null,authFailed:!1,addpost:!1,imgUpload:null,adminPosts:null},getters:{isAuth:function(t){return!!t.token},addPostStatus:function(t){return t.addpost},imgUploadUrl:function(t){return t.imgUpload},getAdminPostsGetters:function(t){return t.adminPosts}},mutations:{authUser:function(t,e){t.token=e.idToken,t.refresh=e.refreshToken,"signin"===e.type&&Vt.push("/dashboard")},authFailed:function(t,e){t.authFailed="reset"!==e},logoutUser:function(t){t.token=null,t.refresh=null,localStorage.removeItem("token"),localStorage.removeItem("refresh"),Vt.push("/")},changePostStatus:function(t){t.addpost=!0},clearPostStatus:function(t){t.addpost=!1},imgUpload:function(t,e){t.imgUpload=e.secure_url},clearImgUpload:function(t){t.imgUpload=null},getAdminPosts:function(t,e){t.adminPosts=e}},actions:{signIn:function(t,e){var n=t.commit;o["default"].http.post("".concat(Lt,"/verifyPassword?key=").concat(Gt),Nt({},e,{returnSecureToken:!0})).then((function(t){return t.json()})).then((function(t){n("authUser",Nt({},t,{type:"signin"})),localStorage.setItem("token",t.idToken),localStorage.setItem("refresh",t.refreshToken)})).catch((function(t){n("authFailed")}))},refreshToken:function(t){var e=t.commit,n=localStorage.getItem("refresh");n?o["default"].http.post("https://securetoken.googleapis.com/v1/token?key=".concat(Gt),{grant_type:"refresh_token",refresh_token:n}).then((function(t){return t.json()})).then((function(t){e("authUser",{idToken:t.id_token,refreshToken:t.refresh_token,type:"refresh"}),localStorage.setItem("token",t.id_token),localStorage.setItem("refresh",t.refresh_token)})):console.log("cannot fresh token")},addPost:function(t,e){var n=t.commit,a=t.state;o["default"].http.post("posts.json?auth=".concat(a.token),e).then((function(t){return t.json()})).then((function(t){n("changePostStatus"),setTimeout((function(){n("clearPostStatus")}),3e3)}))},imgUpload:function(t,e){var n=t.commit,a="https://api.cloudinary.com/v1_1/dontz3210/image/upload",r="s84oweuo",s=new FormData;s.append("file",e),s.append("upload_preset",r),o["default"].http.post(a,s,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(t){return t.json()})).then((function(t){return n("imgUpload",t)}))},getAdminPosts:function(t){var e=t.commit;o["default"].http.get("posts.json").then((function(t){return t.json()})).then((function(t){var n=[];for(var o in t)n.push(Nt({},t[o],{id:o}));e("getAdminPosts",n.reverse())}))},deletePost:function(t,e){var n=t.commit,a=t.state;o["default"].http.delete("posts/".concat(e,".json?auth=").concat(a.token)).then((function(t){var o=[];a.adminPosts.forEach((function(t){t.id!=e&&o.push(t)})),n("getAdminPosts",o)}))}}},Xt=Rt;function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(n,!0).forEach((function(e){Object(Bt["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ht={namespaced:!0,state:{homePosts:null,post:null},getters:{getAllPostsGetters:function(t){return t.homePosts},getPostGetters:function(t){return t.post}},mutations:{getAllPostsMu:function(t,e){t.homePosts=e},getPostMu:function(t,e){t.post=e},clearPost:function(t){t.post=null}},actions:{getAllPosts:function(t,e){var n=t.commit;o["default"].http.get('posts.json?orderBy="$key"&limitToLast='.concat(e.limit)).then((function(t){return t.json()})).then((function(t){var e=[];for(var o in t)e.push(Qt({},t[o],{id:o}));n("getAllPostsMu",e.reverse())}))},getPost:function(t,e){var n=t.commit;o["default"].http.get('posts.json?orderBy="$key"&equalTo="'.concat(e,'"')).then((function(t){return t.json()})).then((function(t){var e={};for(var o in t)e=Qt({},t[o]);n("getPostMu",e)}))}}},Kt=Ht;o["default"].use(qt["a"]);var Wt=new qt["a"].Store({modules:{admin:Xt,posts:Kt}});o["default"].use(C["a"]);var Vt=new C["a"]({scrollBehavior:function(t,e,n){return{x:0,y:0}},routes:[{path:"/",name:"Home",component:W},{path:"/signin",name:"Signin",component:ot},{path:"/dashboard",component:lt,children:[{path:"/",component:ft},{path:"add_posts",component:bt},{path:"posts_list",component:kt}],beforeEnter:function(t,e,n){Wt.state.admin.token?n():n("/")}},{path:"/post/:id",component:Ut},{path:"*",component:Ft}]}),zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["link"===t.type?n("router-link",{class:["button_default"].concat(t.addClass),style:t.newStyle,attrs:{to:t.linkTo}},[t._t("default")],2):t._e(),"btn"===t.type?n("div",{class:["button_default"].concat(t.addClass),style:t.newStyle,on:{click:t.action}},[t._t("default")],2):t._e()],1)},Zt=[],te={props:["linkTo","addClass","newStyle","action","type"]},ee=te,ne=Object(d["a"])(ee,zt,Zt,!1,null,null,null),oe=ne.exports,ae=n("9c30"),re=(n("51de"),n("e094"),n("28dd")),se=n("1dce"),ie=n.n(se),le=n("c3b3"),ce=n.n(le);o["default"].component("app-btn",oe),o["default"].use(ae["MdCard"]),o["default"].use(ae["MdButton"]),o["default"].use(ae["MdContent"]),o["default"].use(ae["MdDialog"]),o["default"].use(ae["MdTable"]),o["default"].use(ae["MdDialogConfirm"]),o["default"].use(re["a"]),o["default"].http.options.root="https://player-f14a1.firebaseio.com",o["default"].use(ie.a),o["default"].use(ce.a),new o["default"]({router:Vt,store:Wt,render:function(t){return t(P)}}).$mount("#app")},"64a9":function(t,e,n){},"78b2":function(t,e,n){t.exports=n.p+"img/1.2158c4e5.jpg"},8612:function(t,e,n){"use strict";var o=n("bc0a"),a=n.n(o);a.a},"887f":function(t,e,n){},bc0a:function(t,e,n){},c25a:function(t,e,n){"use strict";var o=n("c728"),a=n.n(o);a.a},c728:function(t,e,n){},d811:function(t,e,n){t.exports=n.p+"img/2.83449454.jpg"}});
//# sourceMappingURL=app.d92b1b9a.js.map